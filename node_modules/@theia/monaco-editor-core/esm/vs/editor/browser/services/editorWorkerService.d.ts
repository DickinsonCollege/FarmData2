import { Disposable } from '../../../base/common/lifecycle';
import { URI } from '../../../base/common/uri';
import { IWorkerClient } from '../../../base/common/worker/simpleWorker';
import { DefaultWorkerFactory } from '../../../base/browser/defaultWorkerFactory';
import { IRange } from '../../common/core/range';
import { IChange, IDiffComputationResult } from '../../common/diff/diffComputer';
import * as languages from '../../common/languages';
import { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry';
import { EditorSimpleWorker } from '../../common/services/editorSimpleWorker';
import { IEditorWorkerService, IUnicodeHighlightsResult } from '../../common/services/editorWorker';
import { IModelService } from '../../common/services/model';
import { ITextResourceConfigurationService } from '../../common/services/textResourceConfiguration';
import { ILogService } from '../../../platform/log/common/log';
import { UnicodeHighlighterOptions } from '../../common/services/unicodeTextModelHighlighter';
import { IEditorWorkerHost } from '../../common/services/editorWorkerHost';
import { ILanguageFeaturesService } from '../../common/services/languageFeatures';
export declare class EditorWorkerService extends Disposable implements IEditorWorkerService {
    readonly _serviceBrand: undefined;
    private readonly _modelService;
    private readonly _workerManager;
    private readonly _logService;
    constructor(modelService: IModelService, configurationService: ITextResourceConfigurationService, logService: ILogService, languageConfigurationService: ILanguageConfigurationService, languageFeaturesService: ILanguageFeaturesService);
    dispose(): void;
    canComputeUnicodeHighlights(uri: URI): boolean;
    computedUnicodeHighlights(uri: URI, options: UnicodeHighlighterOptions, range?: IRange): Promise<IUnicodeHighlightsResult>;
    computeDiff(original: URI, modified: URI, ignoreTrimWhitespace: boolean, maxComputationTime: number): Promise<IDiffComputationResult | null>;
    canComputeDirtyDiff(original: URI, modified: URI): boolean;
    computeDirtyDiff(original: URI, modified: URI, ignoreTrimWhitespace: boolean): Promise<IChange[] | null>;
    computeMoreMinimalEdits(resource: URI, edits: languages.TextEdit[] | null | undefined): Promise<languages.TextEdit[] | undefined>;
    canNavigateValueSet(resource: URI): boolean;
    navigateValueSet(resource: URI, range: IRange, up: boolean): Promise<languages.IInplaceReplaceSupportResult | null>;
    canComputeWordRanges(resource: URI): boolean;
    computeWordRanges(resource: URI, range: IRange): Promise<{
        [word: string]: IRange[];
    } | null>;
}
export interface IEditorWorkerClient {
    fhr(method: string, args: any[]): Promise<any>;
}
export declare class EditorWorkerHost implements IEditorWorkerHost {
    private readonly _workerClient;
    constructor(workerClient: IEditorWorkerClient);
    fhr(method: string, args: any[]): Promise<any>;
}
export declare class EditorWorkerClient extends Disposable implements IEditorWorkerClient {
    private readonly languageConfigurationService;
    private readonly _modelService;
    private readonly _keepIdleModels;
    protected _worker: IWorkerClient<EditorSimpleWorker> | null;
    protected readonly _workerFactory: DefaultWorkerFactory;
    private _modelManager;
    private _disposed;
    constructor(modelService: IModelService, keepIdleModels: boolean, label: string | undefined, languageConfigurationService: ILanguageConfigurationService);
    fhr(method: string, args: any[]): Promise<any>;
    private _getOrCreateWorker;
    protected _getProxy(): Promise<EditorSimpleWorker>;
    private _getOrCreateModelManager;
    protected _withSyncedResources(resources: URI[], forceLargeModels?: boolean): Promise<EditorSimpleWorker>;
    computedUnicodeHighlights(uri: URI, options: UnicodeHighlighterOptions, range?: IRange): Promise<IUnicodeHighlightsResult>;
    computeDiff(original: URI, modified: URI, ignoreTrimWhitespace: boolean, maxComputationTime: number): Promise<IDiffComputationResult | null>;
    computeDirtyDiff(original: URI, modified: URI, ignoreTrimWhitespace: boolean): Promise<IChange[] | null>;
    computeMoreMinimalEdits(resource: URI, edits: languages.TextEdit[]): Promise<languages.TextEdit[]>;
    computeLinks(resource: URI): Promise<languages.ILink[] | null>;
    textualSuggest(resources: URI[], leadingWord: string | undefined, wordDefRegExp: RegExp): Promise<{
        words: string[];
        duration: number;
    } | null>;
    computeWordRanges(resource: URI, range: IRange): Promise<{
        [word: string]: IRange[];
    } | null>;
    navigateValueSet(resource: URI, range: IRange, up: boolean): Promise<languages.IInplaceReplaceSupportResult | null>;
    dispose(): void;
}
//# sourceMappingURL=editorWorkerService.d.ts.map