import './snippetSession.css';
import { IActiveCodeEditor } from '../../../browser/editorBrowser';
import { IPosition } from '../../../common/core/position';
import { Range } from '../../../common/core/range';
import { Selection } from '../../../common/core/selection';
import { IIdentifiedSingleEditOperation, ITextModel } from '../../../common/model';
import { OvertypingCapturer } from '../../suggest/browser/suggestOvertypingCapturer';
import { Choice, TextmateSnippet } from './snippetParser';
export declare class OneSnippet {
    private readonly _editor;
    private readonly _snippet;
    private readonly _offset;
    private readonly _snippetLineLeadingWhitespace;
    private _placeholderDecorations?;
    private _placeholderGroups;
    _placeholderGroupsIdx: number;
    _nestingLevel: number;
    private static readonly _decor;
    constructor(_editor: IActiveCodeEditor, _snippet: TextmateSnippet, _offset: number, _snippetLineLeadingWhitespace: string);
    dispose(): void;
    private _initDecorations;
    move(fwd: boolean | undefined): Selection[];
    private _hasPlaceholderBeenCollapsed;
    get isAtFirstPlaceholder(): boolean;
    get isAtLastPlaceholder(): boolean;
    get hasPlaceholder(): boolean;
    computePossibleSelections(): Map<number, Range[]>;
    get choice(): Choice | undefined;
    merge(others: OneSnippet[]): void;
    getEnclosingRange(): Range | undefined;
}
export interface ISnippetSessionInsertOptions {
    overwriteBefore: number;
    overwriteAfter: number;
    adjustWhitespace: boolean;
    clipboardText: string | undefined;
    overtypingCapturer: OvertypingCapturer | undefined;
}
export declare class SnippetSession {
    static adjustWhitespace(model: ITextModel, position: IPosition, snippet: TextmateSnippet, adjustIndentation: boolean, adjustNewlines: boolean): string;
    static adjustSelection(model: ITextModel, selection: Selection, overwriteBefore: number, overwriteAfter: number): Selection;
    static createEditsAndSnippets(editor: IActiveCodeEditor, template: string, overwriteBefore: number, overwriteAfter: number, enforceFinalTabstop: boolean, adjustWhitespace: boolean, clipboardText: string | undefined, overtypingCapturer: OvertypingCapturer | undefined): {
        edits: IIdentifiedSingleEditOperation[];
        snippets: OneSnippet[];
    };
    private readonly _editor;
    private readonly _template;
    private readonly _templateMerges;
    private readonly _options;
    private _snippets;
    constructor(editor: IActiveCodeEditor, template: string, options?: ISnippetSessionInsertOptions);
    dispose(): void;
    _logInfo(): string;
    insert(): void;
    merge(template: string, options?: ISnippetSessionInsertOptions): void;
    next(): void;
    prev(): void;
    private _move;
    get isAtFirstPlaceholder(): boolean;
    get isAtLastPlaceholder(): boolean;
    get hasPlaceholder(): boolean;
    get choice(): Choice | undefined;
    isSelectionWithinPlaceholders(): boolean;
    getEnclosingRange(): Range | undefined;
}
//# sourceMappingURL=snippetSession.d.ts.map