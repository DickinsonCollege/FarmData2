    <div id="config">
        <h3>FarmData2 Configuration</h3>
        <div data-cy='alert-success' class="alert alert-success" role="alert" v-show="isSaved == true">
            Configuration Saved
        </div>
        <p data-cy='intro'>This configuration page contains setting for FarmData2 specific settings.</p>
        <div>
            <label>Labor: 
                <dropdown-with-all data-cy="labor-dropdown" :selected-val="selectedLaborConfig" :dropdown-list="laborConfigs" @selection-changed='setNewLabor'></dropdown-with-all>
            </label>
        </div>
        <button data-cy="save-button" class="btn center-block" style='background-color: #da4f3f; color: white; font-size: large;' :disabled='configNotReady' @click='saveConfig'>Save</button>

        <script>
        new Vue({
            el: '#config',
            components: {
                'dropdown-with-all': DropdownWithAllComponent,
            },
            data: {
                sessionToken: null,
                configObj: {},
                selectedLaborConfig: '',
                laborConfigs: ['Required', 'Optional', "Hidden"],
                isSaved: false
            },
            methods: {
                setNewLabor(newLaborConfig) {
                    this.selectedLaborConfig = newLaborConfig
                },
                saveConfig() {
                    this.configObj.labor = this.selectedLaborConfig
                    setConfiguration(this.configObj, this.sessionToken)
                        this.isSaved = true
                    setTimeout(() => { 
                        this.isSaved= false
                    }, 3000)
                }
            },
            computed: {
                configNotReady() {
                    if(this.selectedLaborConfig == this.configObj.labor) {
                        return true
                    }
                    return false
                }
            
            },
            created(){
                getSessionToken().then((response) => {
                    this.sessionToken = response
                })
                getConfiguration().then((response) => {
                    this.configObj = response.data
                    this.selectedLaborConfig = response.data.labor
                })
            }
        })
        
        Vue.config.devtools = true;
        </script>
    </div>
