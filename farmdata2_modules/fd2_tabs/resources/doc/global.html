<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="CustomTableComponent"><span class="type-signature"></span>CustomTableComponent<span class="type-signature"></span></h4>




<div class="description">
    A Vue component for FarmData2 report tables. The table ensures a consistent styling, and provides the row-based edit/delete and export functionalities that are common to all reports.

<p><b>data-cy attributes</b></p>
<table>
<thead><tr><th>Value</th>         <th>Descripion</th></tr></thead>
<tbody>
<tr><td>table</td>                <td>The table element.</td></tr>
<tr><td>table-headers</td>        <td>The tr element holding the th elements</td></tr>
<tr><td>hi</td>                   <td>The ith th element, i=0,1,2...</td>
<tr><td>edit-header</td>          <td>The th element for the edit button column</td>
<tr><td>save-header</td>          <td>The th element for the save button column</td>
<tr><td>delete-header</td>        <td>The th element for the delete button column</td>
<tr><td>cancel-header</td>        <td>The th element for the cancel button column</td>
<tr><td>ri</td>                   <td>The tr element for the ith table row, i=0,1,2,...</td>
<tr><td>td-ricj</td>              <td>The td element in the ith row and jth column, i,j=0,1,2...</td>
<tr><td>ricj</td>                 <td>The div for plain text in the ith row and jth column, i,j=0,1,2....</td>
<tr><td>ricj</td>                 <td>The div for plain text in the ith row and jth column, i,j=0,1,2....</td>
<tr><td>text-input-ricj</td>      <td>The text input in the ith row and jth column in edit mode, i,j=0,1,2....</td>
<tr><td>dropdown-input-ricj</td>  <td>The select input in the ith row and jth column in edit mode, i,j=0,1,2....</td>
<tr><td>date-input-ricj</td>      <td>The date input in the ith row and jth column in edit mode, i,j=0,1,2....</td>
<tr><td>number-input-ricj</td>    <td>The number input in the ith row and jth column in edit mode, i,j=0,1,2....</td>
<tr><td>edit-button-ri</td>        <td>The edit button in the ith row, i=0,1,2....</td>
<tr><td>save-button-ri</td>        <td>The save button in the ith row, i=0,1,2....</td>
<tr><td>delete-button-ri</td>      <td>The delete button in the ith row, i=0,1,2....</td>
<tr><td>cancel-button-ri</td>      <td>The cancel button in the ith row, i=0,1,2....</td>
</tbody>
</table>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CustomTableComponent.js.html">CustomTableComponent.js</a>, <a href="CustomTableComponent.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="DateRangeSelectionComponent"><span class="type-signature"></span>DateRangeSelectionComponent<span class="type-signature"></span></h4>




<div class="description">
    A Vue component for selecting a range of dated (i.e. start and end dates).  The component ensures that the user cannot choose a start date after the end date and vice versa.

<p><b>data-cy attributes</b></p>
<table>
<thead><tr><th>Value</th>        <th>Descripion</th></tr></thead>
<tbody>
<tr><td>start-date-select</td>   <td>The date input element for the start date.</td></tr>
<tr><td>end-date-select</td>   <td>The date input element for the end date.</td></tr>
</tbody>
</table>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DateRangeSelectionComponent.js.html">DateRangeSelectionComponent.js</a>, <a href="DateRangeSelectionComponent.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="DateSelectionComponent"><span class="type-signature"></span>DateSelectionComponent<span class="type-signature"></span></h4>




<div class="description">
    A Vue component for selecting a date.

<p><b>data-cy attributes</b></p>
<table>
<thead><tr><th>Value</th>        <th>Descripion</th></tr></thead>
<tbody>
<tr><td>date-select</td>  <td>The date input element.</td></tr>
</tbody>
</table>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DateSelectionComponent.js.html">DateSelectionComponent.js</a>, <a href="DateSelectionComponent.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="DropdownWithAllComponent"><span class="type-signature"></span>DropdownWithAllComponent<span class="type-signature"></span></h4>




<div class="description">
    A Vue component for a dropdown list where "All" can be included as the first option.

<p><b>data-cy attributes</b></p>
<table>
<thead><tr><th>Value</th>        <th>Descripion</th></tr></thead>
<tbody>
<tr><td>dropdown-component</td>  <td>div containing the label and select elements.</td></tr>
<tr><td>dropdown-input</td>      <td>The select element.</td></tr>
<tr><td>optioni</td>             <td>The ith option element, i=0,1,2...</td></tr>
</tbody>
</table>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DropdownWithAllComponent.js.html">DropdownWithAllComponent.js</a>, <a href="DropdownWithAllComponent.js.html#line20">line 20</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="createRecord"><span class="type-signature"></span>createRecord<span class="signature">(url, data, sessionToken)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create a record in the database using a farmOS API endpoint. The currently logged in user must have sufficent privlidge to create records.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the farmOS API endpoint to use to create the record.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">a JSON object containing the data for the record to be created.  The format of the data must match what is expected by the endpoint specified by the url. If a data property if present inside this object it should be standard JSON. This function will stringify it to meet the farmOS expectation that the value of the data property is a string.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sessionToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the session token for the current login sessions.  Use the getSessionToken() function to obtain it prior to calling this function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line460">line 460</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields the response from the server when the new record has been created.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Create a new log in the database</p>
    
    <pre class="prettyprint"><code>// Assume logData contains the data for the new log.
// Assume token has been set to the session token.
deleteRecord('/log', logData, token)
   // The record was created.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the record will not have been created until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="deleteRecord"><span class="type-signature"></span>deleteRecord<span class="signature">(url, sessionToken)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Delete a record from the database using a farmOS API endpoint. The currently logged in user must have sufficent privlidge to delete records.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the farmOS API endpoint to use to delete the record.  Typically records are deleted using their id/tid/etc.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sessionToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the session token for the current login sessions.  Use the getSessionToken() function to obtain it prior to calling this function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line421">line 421</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields the response from the server when the deletion has completed.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Delete asset 234 from the database</p>
    
    <pre class="prettyprint"><code>// Assume token has been set to the session token.
deleteRecord('/farm_asset/234', token)
   // The record was deleted.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the record will not have been deleted until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getAllPages"><span class="type-signature"></span>getAllPages<span class="signature">(endpoint, arr<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Make a GET reqest to an API endpoint and retrieve all pages of a multipage responses.

If there are data properties in the logs, they are parsed into JSON before the response is returned.  Thus, properties in the data field can be accessed normally without parsing when the record is retrieved using this function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">the API endpoint including any query parameters.  Note: This does not include http://localhost/ or other server address.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>arr</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">optionally an array that will be filled with the records as they are returned.  If omitted a new array will be returned when the request completes.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    a Promise that when resolved yields the array with all of the records from all of the pages of the response.
</div>



    




    <h5>Examples</h5>
    
        <p class="code-caption">Retrieve all harvest logs into the result array.</p>
    
    <pre class="prettyprint"><code>// Assumes that result is an existing array
getAllPages('/log.json?type=farm_harvest', result)
.then(() => {
    // All of the requested records have now been added to result.
    // Additional processing can happen here if necessary,
    // or then may be omitted.
})
.catch((err) => {
    // An error occured during the requests, process it here.
})
// Execution continues here immediately after the request is made.
// Result will not yet contain records but will be filled as responses are received.
// The result will contain all records when then() is invoked.</code></pre>

        <p class="code-caption">Retrieve all planting assets into a new array.</p>
    
    <pre class="prettyprint"><code>getAllPages('/farm_asset.json?type=planting')
.then((res) => {
    // res is a newly created array that is
    // filled with all of the requested records.  
})
.catch((err) => {
    // An error occured during the requests, process it here.
})
// Execution continues here immediately after the request is made.</code></pre>



        
            

    

    
    <h4 class="name" id="getAreaToIDMap"><span class="type-signature"></span>getAreaToIDMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Area ID (tid) to Area Name.  This function makes a request to the /taxonomy_term.json?bundle=farm_areas endpoint in the farmOS API to get the list of areas and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line201">line 201</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Area Name as the key and the Area ID (tid) as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from area name to area tid.</p>
    
    <pre class="prettyprint"><code>getAreaToIDMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getCropToIDMap"><span class="type-signature"></span>getCropToIDMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Crop Name to Crop ID (tid).  This function makes a request to the /taxonomy_term.json?bundle=farm_crops endpoint in the farmOS API to get the list of crops and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Crop Name as the key and the Crop ID (tid) as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from crop name to crop tid.</p>
    
    <pre class="prettyprint"><code>getCropToIDMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getIDToAreaMap"><span class="type-signature"></span>getIDToAreaMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Area ID (tid) to Area Name.  This function makes a request to the /taxonomy_term.json?bundle=farm_areas endpoint in the farmOS API to get the list of crops and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line180">line 180</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Area ID (tid) as the key and the Area Name as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from area tid to area name.</p>
    
    <pre class="prettyprint"><code>getIDToAreaMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getIDToCropMap"><span class="type-signature"></span>getIDToCropMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Crop ID (tid) to Crop Name.  This function makes a request to the /taxonomy_term.json?bundle=farm_crops endpoint in the farmOS API to get the list of crops and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Crop ID (tid) as the key and the Crop Name as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from crop tid to crop name.</p>
    
    <pre class="prettyprint"><code>getIDToCropMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getIDToLogTypeMap"><span class="type-signature"></span>getIDToLogTypeMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Log Type ID (tid) to Lot Type Name.  This function makes a request to the /taxonomy_term.json?bundle=farm_log_categories endpoint in the farmOS API to get the list of log types and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line265">line 265</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Log Type ID (tid) as the key and the Log Type Name as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from log type tid to log type name.</p>
    
    <pre class="prettyprint"><code>getIDToLogTypeMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getIDToUnitMap"><span class="type-signature"></span>getIDToUnitMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Unit ID (tid) to Unit Name.  This function makes a request to the /taxonomy_term.json?bundle=farm_quantity_units endpoint in the farmOS API to get the list of units and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Unit ID (tid) as the key and the Unit Name as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from unit tid to unit name.</p>
    
    <pre class="prettyprint"><code>getIDToUnitMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getIDToUserMap"><span class="type-signature"></span>getIDToUserMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from User ID (uid) to Username.  This function makes a request to the /user endpoint in the farmOS API to get the list of users and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with user uid as the key and username as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from user uid to username.</p>
    
    <pre class="prettyprint"><code>getIDToUserMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getLogTypeToIDMap"><span class="type-signature"></span>getLogTypeToIDMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Log Type Name to Lot Type ID (tid).  This function makes a request to the /taxonomy_term.json?bundle=farm_log_categories endpoint in the farmOS API to get the list of log types and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line286">line 286</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Log Type Name as the key and the Log Type ID (tid) as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from log type name to log type tid.</p>
    
    <pre class="prettyprint"><code>getLogTypeToIDMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getMap"><span class="type-signature"></span>getMap<span class="signature">(url, key, value)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    General utility function for making Maps between taxonomy terms and their tids.  This function is primarily used by the convenience functions that return a specific Map.  If you plan to use this function, first check if there is already a convenience function for the Map you want.  Then if not, consider adding a convenience function instead of using this function directly.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the farmOS API endpoint from which to retrieve the data for the Map.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the name of the property to be used as the key in the Map.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the name fo the property to be used as the value in the Map.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    a Promise that when resolved yields a new Map object from the specified key to the specified value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a new Map from User ID (uid) to User Name.</p>
    
    <pre class="prettyprint"><code>getMap('/user', 'uid', 'name')
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getRecord"><span class="type-signature"></span>getRecord<span class="signature">(url)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Request a record from a farmOS API endpoint. This function should be used only to retrieve records that are known to be a single page (e.g. a single log, a single asset, etc.)  If a request might return multiple pages of records, the getAllPages function should be used instead.

The data property of the response is parsed into JSON before the response is returned.  Thus, properties in the data field can be accessed normally without parsing when the record is retrieved using this function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the farmOS API endpoint from which to request the record.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line383">line 383</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields the response received from the farmOS server.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Request log 123 in json format using its id</p>
    
    <pre class="prettyprint"><code>getRecord('/log.json?id=123')
    // Process the response.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the response will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getSessionToken"><span class="type-signature"></span>getSessionToken<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get the session token for the current login. The session token is required as a parameter for API requests that modify data (e.g. createRecord, modifyRecord, deleteRecord, etc).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line346">line 346</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a string containing the session token for the current login.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get the session token for the currrent login.</p>
    
    <pre class="prettyprint"><code>getSessonToken()
.then((theToken) => {
    // Process the token.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getUnitToIDMap"><span class="type-signature"></span>getUnitToIDMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Unit Name to Unit ID (tid).  This function makes a request to the /taxonomy_term.json?bundle=farm_quantity_units endpoint in the farmOS API to get the list of units and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line244">line 244</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with Unit Name as the key and the Unit ID (tid) as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from unit name to unit tid.</p>
    
    <pre class="prettyprint"><code>getUnitToIDMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="getUserToIDMap"><span class="type-signature"></span>getUserToIDMap<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get a Map from Username to User ID (uid).  This function makes a request to the /user endpoint in the farmOS API to get the list of users and converts the result to a Map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line117">line 117</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields a Map with username as the key and user uid as the value.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Get a Map from username to user uid.</p>
    
    <pre class="prettyprint"><code>getUserToIDMap()
.then((theMap) => {
    // Process the map.
    // Typically it is stored in the Vue data for later use.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the Map will not be available until the then() executes.</code></pre>



        
            

    

    
    <h4 class="name" id="quantityLocation"><span class="type-signature"></span>quantityLocation<span class="signature">(quantity, label)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Gets the index of a specified quantity object from the quantity array in a log (e.g. a direct or tray seeding, transplanting or harvest log).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>quantity</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">an array of quantity objects from a log</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>label</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the value of the label property of which to find the index.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line557">line 557</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    the index of the quantity object with the specified label.  Or -1 if no such object exists.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Find the quantity object for the amount planted.</p>
    
    <pre class="prettyprint"><code>// assume seedingLog is a seeding log from the database.
let index = quantityLocation(seedingLog.quantity, 'Amount planted')</code></pre>



        
            

    

    
    <h4 class="name" id="updateRecord"><span class="type-signature"></span>updateRecord<span class="signature">(url, updateData, sessionToken)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Update a record in the database using a farmOS API endpoint. The currently logged in user must have sufficent privlidge to modify records.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the farmOS API endpoint to use to update the record.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateData</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">a JSON object containing the data to be updated in the record.  The format of the data must match what is expected by the endpoint specified by the url.  The data property if present should be standard JSON. This function will stringify it to meet the farmOS expectation that the value of the data property is a string.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sessionToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the session token for the current login sessions.  Use the getSessionToken() function to obtain it prior to calling this function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="FarmOSAPI.js.html">FarmOSAPI.js</a>, <a href="FarmOSAPI.js.html#line508">line 508</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise that when resolved yields the response from the server when the record has been updated.
</div>



    




    <h5>Example</h5>
    
        <p class="code-caption">Update an asset in the database</p>
    
    <pre class="prettyprint"><code>// Assume assetUpdate contains the data to update in the asset.
// Assume token has been set to the session token.
updateRecord('/log', assetUpdate, token)
   // The record has been updated.
})
.catch((err) => {
    // An error occured during the request, process it here.
})
// Execution continues here immediately after the request is made.
// Note that the record will not have been updated until the then() executes.</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#createRecord">createRecord</a></li><li><a href="global.html#CustomTableComponent">CustomTableComponent</a></li><li><a href="global.html#DateRangeSelectionComponent">DateRangeSelectionComponent</a></li><li><a href="global.html#DateSelectionComponent">DateSelectionComponent</a></li><li><a href="global.html#deleteRecord">deleteRecord</a></li><li><a href="global.html#DropdownWithAllComponent">DropdownWithAllComponent</a></li><li><a href="global.html#getAllPages">getAllPages</a></li><li><a href="global.html#getAreaToIDMap">getAreaToIDMap</a></li><li><a href="global.html#getCropToIDMap">getCropToIDMap</a></li><li><a href="global.html#getIDToAreaMap">getIDToAreaMap</a></li><li><a href="global.html#getIDToCropMap">getIDToCropMap</a></li><li><a href="global.html#getIDToLogTypeMap">getIDToLogTypeMap</a></li><li><a href="global.html#getIDToUnitMap">getIDToUnitMap</a></li><li><a href="global.html#getIDToUserMap">getIDToUserMap</a></li><li><a href="global.html#getLogTypeToIDMap">getLogTypeToIDMap</a></li><li><a href="global.html#getMap">getMap</a></li><li><a href="global.html#getRecord">getRecord</a></li><li><a href="global.html#getSessionToken">getSessionToken</a></li><li><a href="global.html#getUnitToIDMap">getUnitToIDMap</a></li><li><a href="global.html#getUserToIDMap">getUserToIDMap</a></li><li><a href="global.html#quantityLocation">quantityLocation</a></li><li><a href="global.html#updateRecord">updateRecord</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Apr 08 2022 18:35:49 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>